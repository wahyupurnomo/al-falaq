function Lytebox(a,b){this.label=new Object;this.label["close"]="(Esc)";this.label["prev"]="(←)";this.label["next"]="(→)";this.label["print"]="Print";this.label["image"]="%1 / %2";this.label["page"]="%1 / %2";this.theme="exe";this.roundedBorder=true;this.innerBorder=true;this.outerBorder=true;this.resizeSpeed=8;this.maxOpacity=80;this.borderSize=12;this.appendQS=false;this.fixedPosition=this.isMobile()?false:true;this.inherit=true;this.__hideObjects=true;this.__autoResize=true;this.__doAnimations=true;this.__animateOverlay=false;this.__forceCloseClick=false;this.__refreshPage=false;this.__showPrint=true;this.__navType=2;this.__navTop=this.isMobile()?false:false;this.__titleTop=this.isMobile()?true:false;this.__width="80%";this.__height="80%";this.__scrolling="auto";this.__loopPlayback=false;this.__slideInterval=4e3;this.__showNavigation=false;this.__showClose=true;this.__showDetails=true;this.__beforeStart="";this.__afterStart="";this.__beforeEnd="";this.__afterEnd="";this.navTypeHash=new Object;this.navTypeHash["Display_by_type_2"]=true;this.resizeWTimerArray=new Array;this.resizeWTimerCount=0;this.resizeHTimerArray=new Array;this.resizeHTimerCount=0;this.changeContentTimerArray=new Array;this.changeContentTimerCount=0;this.overlayTimerArray=new Array;this.overlayTimerCount=0;this.imageTimerArray=new Array;this.imageTimerCount=0;this.timerIDArray=new Array;this.timerIDCount=0;this.imageArray=new Array;this.slideArray=new Array;this.frameArray=new Array;this.contentNum=null;this.aPageSize=new Array;this.overlayLoaded=false;this.checkFrame();this.isSlideshow=false;this.isLyteframe=false;this.ieVersion=this.ffVersion=this.chromeVersion=this.operaVersion=this.safariVersion=-1;this.ie=this.ff=this.chrome=this.opera=this.safari=false;this.setBrowserInfo();this.classAttribute=this.ie&&this.doc.compatMode=="BackCompat"||this.ie&&this.ieVersion<=7?"className":"class";this.classAttribute=this.ie&&(document.documentMode==8||document.documentMode==9)?"class":this.classAttribute;this.isReady=false;if(a){this.http=b;this.bodyOnscroll=document.body.onscroll;if(this.resizeSpeed>10){this.resizeSpeed=10}if(this.resizeSpeed<1){this.resizeSpeed=1}var c=2;var d=navigator.userAgent.match(/windows nt 5.1/i)||navigator.userAgent.match(/windows nt 5.2/i)?true:false;this.resizeDuration=(11-this.resizeSpeed)*(this.ie?this.ieVersion>=9?6:this.ieVersion==8?this.doc.compatMode=="BackCompat"?c:c-1:3:7);this.resizeDuration=this.ff?(11-this.resizeSpeed)*(this.ffVersion<6?3:d?6:12):this.resizeDuration;this.resizeDuration=this.chrome?(11-this.resizeSpeed)*5:this.resizeDuration;this.resizeDuration=this.safari?(11-this.resizeSpeed)*20:this.resizeDuration;this.resizeDuration=this.isMobile()?(11-this.resizeSpeed)*2:this.resizeDuration;if(window.name!="lbIframe"){this.initialize()}}else{this.http=new Array;if(typeof $=="undefined"){$=function(a){if($.cache[a]===undefined){$.cache[a]=document.getElementById(a)||false}return $.cache[a]};$.cache={}}}}function initLytebox(){myLytebox=$lb=new Lytebox(true,$lb.http)}Lytebox.prototype.setBrowserInfo=function(){var a=navigator.userAgent.toLowerCase();this.chrome=a.indexOf("chrome")>-1;this.ff=a.indexOf("firefox")>-1;this.safari=!this.chrome&&a.indexOf("safari")>-1;this.opera=a.indexOf("opera")>-1;this.ie=false;if(this.chrome){var b=new RegExp("chrome/([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){this.chromeVersion=parseInt(RegExp.$1)}}if(this.ff){var b=new RegExp("firefox/([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){this.ffVersion=parseInt(RegExp.$1)}}if(this.ie){var b=new RegExp("msie ([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){this.ieVersion=parseInt(RegExp.$1)}}if(this.opera){var b=new RegExp("opera/([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){this.operaVersion=parseInt(RegExp.$1)}}if(this.safari){var b=new RegExp("version/([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){this.safariVersion=parseInt(RegExp.$1)}}};Lytebox.prototype.initialize=function(){this.updateLyteboxItems();var a=this.doc.getElementsByTagName("body").item(0);if(this.doc.$("lbOverlay")){a.removeChild(this.doc.$("lbOverlay"))}if(this.doc.$("lbMain")){a.removeChild(this.doc.$("lbMain"))}if(this.doc.$("lbLauncher")){a.removeChild(this.doc.$("lbLauncher"))}var b=this.doc.createElement("a");b.setAttribute("id","lbLauncher");b.setAttribute(this.classAttribute,"lytebox");b.style.display="none";a.appendChild(b);var c=this.doc.createElement("div");c.setAttribute("id","lbOverlay");c.setAttribute(this.classAttribute,this.theme);if(this.ie&&(this.ieVersion<=6||this.ieVersion<=9&&this.doc.compatMode=="BackCompat")){c.style.position="absolute"}c.style.display="none";a.appendChild(c);var d=this.doc.createElement("div");d.setAttribute("id","lbMain");d.style.display="none";a.appendChild(d);var e=this.doc.createElement("div");e.setAttribute("id","lbOuterContainer");e.setAttribute(this.classAttribute,this.theme);if(this.roundedBorder){e.style.MozBorderRadius="8px";e.style.borderRadius="8px"}d.appendChild(e);var f=this.doc.createElement("div");f.setAttribute("id","lbTopContainer");f.setAttribute(this.classAttribute,this.theme);if(this.roundedBorder){f.style.MozBorderRadius="8px";f.style.borderRadius="8px"}e.appendChild(f);var g=this.doc.createElement("div");g.setAttribute("id","lbTopData");g.setAttribute(this.classAttribute,this.theme);f.appendChild(g);var h=this.doc.createElement("span");h.setAttribute("id","lbTitleTop");g.appendChild(h);var i=this.doc.createElement("span");i.setAttribute("id","lbNumTop");g.appendChild(i);var j=this.doc.createElement("div");j.setAttribute("id","lbTopNav");f.appendChild(j);var k=this.doc.createElement("a");k.setAttribute("id","lbCloseTop");k.setAttribute("title",this.label["close"]);k.setAttribute(this.classAttribute,this.theme);k.setAttribute("href","javascript:void(0)");j.appendChild(k);var l=this.doc.createElement("a");l.setAttribute("id","lbPrintTop");l.setAttribute("title",this.label["print"]);l.setAttribute(this.classAttribute,this.theme);l.setAttribute("href","javascript:void(0)");j.appendChild(l);var m=this.doc.createElement("a");m.setAttribute("id","lbNextTop");m.setAttribute("title",this.label["next"]);m.setAttribute(this.classAttribute,this.theme);m.setAttribute("href","javascript:void(0)");j.appendChild(m);var n=this.doc.createElement("a");n.setAttribute("id","lbPrevTop");n.setAttribute("title",this.label["prev"]);n.setAttribute(this.classAttribute,this.theme);n.setAttribute("href","javascript:void(0)");j.appendChild(n);var o=this.doc.createElement("div");o.setAttribute("id","lbIframeContainer");o.style.display="none";e.appendChild(o);var p=this.doc.createElement("iframe");p.setAttribute("id","lbIframe");p.setAttribute("name","lbIframe");p.setAttribute("frameBorder","0");if(this.innerBorder){p.setAttribute(this.classAttribute,this.theme)}p.style.display="none";o.appendChild(p);var q=this.doc.createElement("div");q.setAttribute("id","lbImageContainer");e.appendChild(q);var r=this.doc.createElement("img");r.setAttribute("id","lbImage");if(this.innerBorder){r.setAttribute(this.classAttribute,this.theme)}q.appendChild(r);var s=this.doc.createElement("div");s.setAttribute("id","lbLoading");s.setAttribute(this.classAttribute,this.theme);e.appendChild(s);var t=this.doc.createElement("div");t.setAttribute("id","lbBottomContainer");t.setAttribute(this.classAttribute,this.theme);if(this.roundedBorder){t.style.MozBorderRadius="8px";t.style.borderRadius="8px"}e.appendChild(t);var u=this.doc.createElement("div");u.setAttribute("id","lbBottomData");u.setAttribute(this.classAttribute,this.theme);t.appendChild(u);var v=this.doc.createElement("span");v.setAttribute("id","lbTitleBottom");u.appendChild(v);var w=this.doc.createElement("span");w.setAttribute("id","lbNumBottom");u.appendChild(w);var x=this.doc.createElement("span");x.setAttribute("id","lbDescBottom");u.appendChild(x);var y=this.doc.createElement("div");y.setAttribute("id","lbHoverNav");q.appendChild(y);var z=this.doc.createElement("div");z.setAttribute("id","lbBottomNav");t.appendChild(z);var A=this.doc.createElement("a");A.setAttribute("id","lbPrevHov");A.setAttribute("title",this.label["prev"]);A.setAttribute(this.classAttribute,this.theme);A.setAttribute("href","javascript:void(0)");y.appendChild(A);var B=this.doc.createElement("a");B.setAttribute("id","lbNextHov");B.setAttribute("title",this.label["next"]);B.setAttribute(this.classAttribute,this.theme);B.setAttribute("href","javascript:void(0)");y.appendChild(B);var C=this.doc.createElement("a");C.setAttribute("id","lbClose");C.setAttribute("title",this.label["close"]);C.setAttribute(this.classAttribute,this.theme);C.setAttribute("href","javascript:void(0)");z.appendChild(C);var D=this.doc.createElement("a");D.setAttribute("id","lbPrint");D.setAttribute("title",this.label["print"]);D.setAttribute(this.classAttribute,this.theme);D.setAttribute("href","javascript:void(0)");D.style.display="none";z.appendChild(D);var E=this.doc.createElement("a");E.setAttribute("id","lbNext");E.setAttribute("title",this.label["next"]);E.setAttribute(this.classAttribute,this.theme);E.setAttribute("href","javascript:void(0)");z.appendChild(E);var F=this.doc.createElement("a");F.setAttribute("id","lbPrev");F.setAttribute("title",this.label["prev"]);F.setAttribute(this.classAttribute,this.theme);F.setAttribute("href","javascript:void(0)");z.appendChild(F);var G=this.isFrame&&window.parent.frames[window.name].document?window.parent.frames[window.name].document.getElementsByTagName("iframe"):document.getElementsByTagName("iframe");for(var H=0;H<G.length;H++){if(/youtube/i.test(G[H].src)){G[H].src+=(/\?/.test(G[H].src)?"&":"?")+"wmode=transparent"}}this.isReady=true};Lytebox.prototype.updateLyteboxItems=function(){var a=this.isFrame&&window.parent.frames[window.name].document?window.parent.frames[window.name].document.getElementsByTagName("a"):document.getElementsByTagName("a");a=this.isFrame?a:document.getElementsByTagName("a");var b=this.isFrame&&window.parent.frames[window.name].document?window.parent.frames[window.name].document.getElementsByTagName("area"):document.getElementsByTagName("area");var c=this.combine(a,b);var d=relAttribute=revAttribute=classAttribute=dataOptions=dataTip=tipDecoration=tipStyle=tipImage=tipHtml=aSetting=sName=sValue=sExt=aUrl=null;var e=bRelative=false;for(var f=0;f<c.length;f++){d=c[f];relAttribute=String(d.getAttribute("rel"));classAttribute=String(d.getAttribute(this.classAttribute));if(d.getAttribute("href")){sType=classAttribute.match(/lytebox|lyteshow|lyteframe/i);sType=this.isEmpty(sType)?relAttribute.match(/lytebox|lyteshow|lyteframe/i):sType;dataOptions=String(d.getAttribute("data-lyte-options"));dataOptions=this.isEmpty(dataOptions)?String(d.getAttribute("rev")):dataOptions;aUrl=d.getAttribute("href").split("?");sExt=aUrl[0].split(".").pop().toLowerCase();e=sExt=="png"||sExt=="jpg"||sExt=="jpeg"||sExt=="gif"||sExt=="bmp";if(sType&&sType.length>=1){if(this.isMobile()&&/youtube/i.test(d.getAttribute("href"))){d.target="_blank"}else if(e&&(dataOptions.match(/slide:true/i)||sType[0].toLowerCase()=="lyteshow")){d.onclick=function(){$lb.start(this,true,false);return false}}else if(e){d.onclick=function(){$lb.start(this,false,false);return false}}else{d.onclick=function(){$lb.start(this,false,true);return false}}}}}this.tipsSet=true};Lytebox.prototype.launch=function(a){var b=this.isEmpty(a.url)?"":String(a.url);var c=this.isEmpty(a.options)?"":String(a.options);var d=this.isEmpty(a.title)?"":a.title;var e=this.isEmpty(a.description)?"":a.description;var f=/slide:true/i.test(c);if(this.isEmpty(b)){return false}if(!this.isReady){this.timerIDArray[this.timerIDCount++]=setTimeout("$lb.launch({ url: '"+b+"', options: '"+c+"', title: '"+d+"', description: '"+e+"' })",100);return}else{for(var g=0;g<this.timerIDCount;g++){window.clearTimeout(this.timerIDArray[g])}}var h=b.split("?");var i=h[0].split(".").pop().toLowerCase();var j=i=="png"||i=="jpg"||i=="jpeg"||i=="gif"||i=="bmp";var k=this.doc.$("lbLauncher");k.setAttribute("href",b);k.setAttribute("data-lyte-options",c);k.setAttribute("data-title",d);k.setAttribute("data-description",e);this.updateLyteboxItems();this.start(k,f,j?false:true)};Lytebox.prototype.start=function(a,b,c){var d=String(a.getAttribute("data-lyte-options"));d=this.isEmpty(d)?String(a.getAttribute("rev")):d;this.setOptions(d);this.isSlideshow=false;this.isLyteframe=false;if(!this.isEmpty(this.beforeStart)){var e=window[this.beforeStart];if(typeof e==="function"){if(!e(this.args)){return}}}if(this.ie&&this.ieVersion<=6){this.toggleSelects("hide")}if(this.hideObjects){this.toggleObjects("hide")}if(this.isFrame&&window.parent.frames[window.name].document){window.parent.$lb.printId=this.isLyteframe?"lbIframe":"lbImage"}else{this.printId=this.isLyteframe?"lbIframe":"lbImage"}this.aPageSize=this.getPageSize();var f=this.doc.$("lbOverlay");var g=this.doc.getElementsByTagName("body").item(0);f.style.height=this.aPageSize[1]+"px";f.style.display="";this.fadeIn({id:"lbOverlay",opacity:this.doAnimations&&this.animateOverlay&&(!this.ie||this.ieVersion>=9)?0:this.maxOpacity});var h=this.isFrame&&window.parent.frames[window.name].document?window.parent.frames[window.name].document.getElementsByTagName("a"):document.getElementsByTagName("a");h=this.isFrame?h:document.getElementsByTagName("a");var i=this.isFrame&&window.parent.frames[window.name].document?window.parent.frames[window.name].document.getElementsByTagName("area"):document.getElementsByTagName("area");var j=this.combine(h,i);var k=sExt=aUrl=null;this.frameArray=[];this.frameNum=0;this.imageArray=[];this.imageNum=0;this.slideArray=[];this.slideNum=0;if(this.isEmpty(this.group)){d=String(a.getAttribute("data-lyte-options"));d=this.isEmpty(d)?String(a.getAttribute("rev")):d;this.imageArray.push(new Array(a.getAttribute("href"),!this.isEmpty(a.getAttribute("data-title"))?a.getAttribute("data-title"):a.getAttribute("title"),a.getAttribute("data-description"),d))}else{for(var l=0;l<j.length;l++){var m=j[l];d=String(m.getAttribute("data-lyte-options"));d=this.isEmpty(d)?String(m.getAttribute("rev")):d;if(m.getAttribute("href")&&d.toLowerCase().match("group:"+this.group)){k=String(m.getAttribute(this.classAttribute)).match(/lytebox|lyteshow|lyteframe/i);k=this.isEmpty(k)?m.getAttribute("rel").match(/lytebox|lyteshow|lyteframe/i):k;aUrl=m.getAttribute("href").split("?");sExt=aUrl[0].split(".").pop().toLowerCase();bImage=sExt=="png"||sExt=="jpg"||sExt=="jpeg"||sExt=="gif"||sExt=="bmp";if(k&&k.length>=1){if(bImage&&(d.match(/slide:true/i)||k[0].toLowerCase()=="lyteshow")){this.slideArray.push(new Array(m.getAttribute("href"),!this.isEmpty(m.getAttribute("data-title"))?m.getAttribute("data-title"):m.getAttribute("title"),m.getAttribute("data-description"),d))}else if(bImage){this.imageArray.push(new Array(m.getAttribute("href"),!this.isEmpty(m.getAttribute("data-title"))?m.getAttribute("data-title"):m.getAttribute("title"),m.getAttribute("data-description"),d))}else{this.frameArray.push(new Array(m.getAttribute("href"),!this.isEmpty(m.getAttribute("data-title"))?m.getAttribute("data-title"):m.getAttribute("title"),m.getAttribute("data-description"),d))}}}}this.imageArray=this.removeDuplicates(this.imageArray);while(this.imageArray[this.imageNum][0]!=a.getAttribute("href")){this.imageNum++}}this.changeContent(this.imageNum)};Lytebox.prototype.changeContent=function(a){this.contentNum=a;if(!this.overlayLoaded){this.changeContentTimerArray[this.changeContentTimerCount++]=setTimeout("$lb.changeContent("+this.contentNum+")",250);return}else{for(var b=0;b<this.changeContentTimerCount;b++){window.clearTimeout(this.changeContentTimerArray[b])}}var c=this.imageArray[0][3];this.setOptions(c);var d=this.doc.$("lbMain");d.style.display="";var e=40;if(this.ie&&(this.ieVersion<=7||this.doc.compatMode=="BackCompat")){d.style.top=this.getPageScroll()+this.aPageSize[3]/e+"px";var f=this.aPageSize[3]/e;this.scrollHandler=function(){$lb.doc.$("lbMain").style.top=$lb.getPageScroll()+f+"px"};this.bodyOnscroll=document.body.onscroll;if(window.addEventListener){window.addEventListener("scroll",this.scrollHandler)}else if(window.attachEvent){window.attachEvent("onscroll",this.scrollHandler)}d.style.position="absolute"}else{d.style.top=this.aPageSize[3]/e+"px";d.style.position="fixed"}this.doc.$("lbOuterContainer").style.paddingBottom="0";if(!this.outerBorder){this.doc.$("lbOuterContainer").style.border="none"}else{this.doc.$("lbOuterContainer").setAttribute(this.classAttribute,this.theme)}if(this.forceCloseClick){this.doc.$("lbOverlay").onclick=""}else{this.doc.$("lbOverlay").onclick=function(){$lb.end();return false}}this.doc.$("lbMain").onclick=function(a){var a=a;if(!a){if(window.parent.frames[window.name]&&parent.document.getElementsByTagName("frameset").length<=0){a=window.parent.window.event}else{a=window.event}}var b=a.target?a.target.id:a.srcElement.id;if(b=="lbMain"&&!$lb.forceCloseClick){$lb.end();return false}};this.doc.$("lbPrintTop").onclick=this.doc.$("lbPrint").onclick=function(){$lb.printWindow();return false};this.doc.$("lbCloseTop").onclick=this.doc.$("lbClose").onclick=function(){$lb.end();return false};if(!this.outerBorder){this.doc.$("lbOuterContainer").style.border="none"}else{this.doc.$("lbOuterContainer").setAttribute(this.classAttribute,this.theme)}var g=10;if(this.titleTop||this.navTop){this.doc.$("lbTopContainer").style.visibility="hidden";g+=this.doc.$("lbTopContainer").offsetHeight}else{this.doc.$("lbTopContainer").style.display="none"}this.doc.$("lbBottomContainer").style.display="none";this.doc.$("lbImage").style.display="none";this.doc.$("lbIframe").style.display="none";this.doc.$("lbPrevHov").style.display="none";this.doc.$("lbNextHov").style.display="none";this.doc.$("lbIframeContainer").style.display="none";this.doc.$("lbLoading").style.marginTop="-"+g+"px";this.doc.$("lbLoading").style.display="";this.imgPreloader=new Image;this.imgPreloader.onload=function(){var a=$lb.imgPreloader.width;var b=$lb.imgPreloader.height;if($lb.autoResize){var c=$lb.aPageSize[2]-50;var d=$lb.aPageSize[3]-150;if(a>c){b=Math.round(b*(c/a));a=c;if(b>d){a=Math.round(a*(d/b));b=d}}else if(b>d){a=Math.round(a*(d/b));b=d;if(a>c){b=Math.round(b*(c/a));a=c}}}var e=$lb.doc.$("lbImage");e.src=$lb.imgPreloader.src;e.width=a;e.height=b;$lb.resizeContainer(a,b);$lb.imgPreloader.onload=function(){}};this.imgPreloader.src=this.imageArray[this.contentNum][0]};Lytebox.prototype.resizeContainer=function(a,b){this.resizeWidth=a;this.resizeHeight=b;this.wCur=this.doc.$("lbOuterContainer").offsetWidth;this.hCur=this.doc.$("lbOuterContainer").offsetHeight;this.xScale=(this.resizeWidth+this.borderSize*2)/this.wCur*100;this.yScale=(this.resizeHeight+this.borderSize*2)/this.hCur*100;var c=this.wCur-this.borderSize*2-this.resizeWidth;var d=this.hCur-this.borderSize*2-this.resizeHeight;this.wDone=c==0;if(!(d==0)){this.hDone=false;this.resizeH("lbOuterContainer",this.hCur,this.resizeHeight+this.borderSize*2,this.getPixelRate(this.hCur,this.resizeHeight))}else{this.hDone=true;if(!this.wDone){this.resizeW("lbOuterContainer",this.wCur,this.resizeWidth+this.borderSize*2,this.getPixelRate(this.wCur,this.resizeWidth))}}if(d==0&&c==0){if(this.ie){this.pause(250)}else{this.pause(100)}}this.doc.$("lbPrevHov").style.height=this.resizeHeight+"px";this.doc.$("lbNextHov").style.height=this.resizeHeight+"px";if(this.hDone&&this.wDone){this.showContent()}};Lytebox.prototype.loadContent=function(){try{var a=this.doc.$("lbIframe");var b=this.frameArray[this.contentNum][0];if(!this.inline&&this.appendQS){b+=(/\?/.test(b)?"&":"?")+"request_from=lytebox"}if(this.ie){a.onreadystatechange=function(){if($lb.doc.$("lbIframe").readyState=="complete"){$lb.showContent();$lb.doc.$("lbIframe").onreadystatechange=null}}}else{a.onload=function(){$lb.showContent();$lb.doc.$("lbIframe").onload=null}}this.frameSource=b;a.src=b}catch(c){}};Lytebox.prototype.showContent=function(){this.doc.$("lbHoverNav").style.display=this.ieVersion!=6&&this.navTypeHash["Hover_by_type_"+this.navType]&&!this.isLyteframe?"":"none";if(this.navTypeHash["Display_by_type_"+this.navType]&&!this.isLyteframe&&this.imageArray.length>1){this.doc.$("lbPrevTop").style.display=this.navTop?"":"none";this.doc.$("lbPrev").style.display=!this.navTop?"":"none";this.doc.$("lbNextTop").style.display=this.navTop?"":"none";this.doc.$("lbNext").style.display=!this.navTop?"":"none"}else{this.doc.$("lbPrevTop").style.display="none";this.doc.$("lbPrev").style.display="none";this.doc.$("lbNextTop").style.display="none";this.doc.$("lbNext").style.display="none"}this.doc.$("lbCloseTop").style.display=this.navTop?"":"none";this.doc.$("lbClose").style.display=!this.navTop?"":"none";this.doc.$("lbBottomData").style.display="";this.doc.$("lbPrintTop").style.display=this.showPrint&&this.navTop?"":"none";this.doc.$("lbPrint").style.display=this.showPrint&&!this.navTop?"":"none";this.updateDetails();this.doc.$("lbLoading").style.display="none";this.doc.$("lbImageContainer").style.display=this.isLyteframe?"none":"";this.doc.$("lbIframeContainer").style.display=this.isLyteframe?"":"none";this.doc.$("lbImage").style.display="";this.fadeIn({id:"lbImage",opacity:this.doAnimations&&(!this.ie||this.ieVersion>=9)?0:100});this.preloadNeighborImages();if(!this.isEmpty(this.afterStart)){var a=window[this.afterStart];if(typeof a==="function"){a(this.args)}}};Lytebox.prototype.updateDetails=function(){var a=this.imageArray[this.contentNum][1];var b=this.imageArray[this.contentNum][2];if(this.ie&&this.ieVersion<=7||this.ieVersion>=8&&this.doc.compatMode=="BackCompat"){this.doc.$(this.titleTop?"lbTitleBottom":"lbTitleTop").style.display="none";this.doc.$(this.titleTop?"lbTitleTop":"lbTitleBottom").style.display=this.isEmpty(a)?"none":"block"}this.doc.$("lbDescBottom").style.display=this.isEmpty(b)?"none":"";this.doc.$(this.titleTop?"lbTitleTop":"lbTitleBottom").innerHTML=this.isEmpty(a)?"":a;this.doc.$(this.titleTop?"lbTitleBottom":"lbTitleTop").innerHTML="";this.doc.$(this.titleTop?"lbNumBottom":"lbNumTop").innerHTML="";this.updateNav();if(this.titleTop||this.navTop){this.doc.$("lbTopContainer").style.display="block";this.doc.$("lbTopContainer").style.visibility="visible"}else{this.doc.$("lbTopContainer").style.display="none"}var c=this.titleTop?this.doc.$("lbNumTop"):this.doc.$("lbNumBottom");if(this.imageArray.length>1){c.innerHTML=this.label["image"].replace("%1",this.contentNum+1).replace("%2",this.imageArray.length)}else{c.innerHTML=""}var d=!(this.titleTop||this.isEmpty(a)&&this.isEmpty(c.innerHTML));this.doc.$("lbDescBottom").innerHTML=this.isEmpty(b)?"":(d?'<br style="line-height:0.6em;" />':"")+b;var e=0;if(this.ie&&this.ieVersion<=7||this.ieVersion>=8&&this.doc.compatMode=="BackCompat"){e=39+(this.showPrint?39:0)+(this.isSlideshow&&this.showPlayPause?39:0);if(this.isSlideshow&&this.slideArray.length>1&&this.showNavigation&&this.navType!=1||this.frameArray.length>1&&this.isLyteframe||this.imageArray.length>1&&!this.isLyteframe&&this.navType!=1){e+=39*2}}this.doc.$("lbBottomContainer").style.display=!(this.titleTop&&this.navTop)||!this.isEmpty(b)?"block":"none";if(this.titleTop&&this.navTop){if(e>0){this.doc.$("lbTopNav").style.width=e+"px"}this.doc.$("lbTopData").style.width=this.doc.$("lbTopContainer").offsetWidth-this.doc.$("lbTopNav").offsetWidth-15+"px";if(!this.isEmpty(b)){this.doc.$("lbDescBottom").style.width=this.doc.$("lbBottomContainer").offsetWidth-15+"px"}}else if((!this.titleTop||!this.isEmpty(b))&&!this.navTop){if(e>0){this.doc.$("lbBottomNav").style.width=e+"px"}this.doc.$("lbBottomData").style.width=this.doc.$("lbBottomContainer").offsetWidth-this.doc.$("lbBottomNav").offsetWidth-15+"px";this.doc.$("lbDescBottom").style.width=this.doc.$("lbBottomData").style.width}this.fixBottomPadding();this.aPageSize=this.getPageSize();var f=parseInt(this.doc.$("lbMain").style.top);if(this.ie&&this.ieVersion<=7||this.ieVersion>=8&&this.doc.compatMode=="BackCompat"){f=this.ie?parseInt(this.doc.$("lbMain").style.top)-this.getPageScroll():parseInt(this.doc.$("lbMain").style.top)}var g=this.doc.$("lbOuterContainer").offsetHeight+f-this.aPageSize[3];var h=40;if(g>0&&this.autoResize&&this.fixedPosition){if(this.ie&&(this.ieVersion<=7||this.doc.compatMode=="BackCompat")){document.body.onscroll=this.bodyOnscroll;if(window.removeEventListener){window.removeEventListener("scroll",this.scrollHandler)}else if(window.detachEvent){window.detachEvent("onscroll",this.scrollHandler)}}this.doc.$("lbMain").style.position="absolute";this.doc.$("lbMain").style.top=this.getPageScroll()+this.aPageSize[3]/h+"px"}};Lytebox.prototype.updateNav=function(){if(this.contentNum!=0){if(this.navTypeHash["Display_by_type_"+this.navType]){this.doc.$(this.navTop?"lbPrevTop":"lbPrev").setAttribute(this.classAttribute,this.theme);this.doc.$(this.navTop?"lbPrevTop":"lbPrev").style.display="";this.doc.$(this.navTop?"lbPrevTop":"lbPrev").onclick=function(){$lb.changeContent($lb.contentNum-1);return false}}}else{if(this.navTypeHash["Display_by_type_"+this.navType]){this.doc.$(this.navTop?"lbPrevTop":"lbPrev").setAttribute(this.classAttribute,this.theme+"Off");this.doc.$(this.navTop?"lbPrevTop":"lbPrev").onclick=function(){return false}}}if(this.contentNum!=this.imageArray.length-1){this.doc.$(this.navTop?"lbNextTop":"lbNext").setAttribute(this.classAttribute,this.theme);this.doc.$(this.navTop?"lbNextTop":"lbNext").style.display="";this.doc.$(this.navTop?"lbNextTop":"lbNext").onclick=function(){$lb.changeContent($lb.contentNum+1);return false}}else{this.doc.$(this.navTop?"lbNextTop":"lbNext").setAttribute(this.classAttribute,this.theme+"Off");this.doc.$(this.navTop?"lbNextTop":"lbNext").onclick=function(){return false}}this.enableKeyboardNav()};Lytebox.prototype.fixBottomPadding=function(){if(!((this.ieVersion==7||this.ieVersion==8||this.ieVersion==9)&&this.doc.compatMode=="BackCompat")&&this.ieVersion!=6){var a=this.doc.$("lbTopContainer").offsetHeight+5;var b=(a==5?0:a)+this.doc.$("lbBottomContainer").offsetHeight;this.doc.$("lbOuterContainer").style.paddingBottom=b+5+"px"}};Lytebox.prototype.enableKeyboardNav=function(){document.onkeydown=this.keyboardAction};Lytebox.prototype.disableKeyboardNav=function(){document.onkeydown=""};Lytebox.prototype.keyboardAction=function(a){var b=key=escape=null;b=a==null?event.keyCode:a.which;key=String.fromCharCode(b).toLowerCase();escape=a==null?27:a.DOM_VK_ESCAPE;if(key=="x"||key=="c"||b==escape||b==27){parent.$lb.end()}else if(key=="p"||b==37){if($lb.contentNum!=0){$lb.disableKeyboardNav();$lb.changeContent($lb.contentNum-1)}}else if(key=="n"||b==39){if($lb.contentNum!=$lb.imageArray.length-1){$lb.disableKeyboardNav();$lb.changeContent($lb.contentNum+1)}}};Lytebox.prototype.preloadNeighborImages=function(){if(this.imageArray.length-1>this.contentNum){var a=new Image;a.src=this.imageArray[this.contentNum+1][0]}if(this.contentNum>0){var b=new Image;b.src=this.imageArray[this.contentNum-1][0]}};Lytebox.prototype.end=function(a){var b=a=="slideshow"?false:true;if(!this.isEmpty(this.beforeEnd)){var c=window[this.beforeEnd];if(typeof c==="function"){if(!c(this.args)){return}}}this.disableKeyboardNav();document.body.onscroll=this.bodyOnscroll;if(this.refreshPage){var d=top.location.href;var e=/\#.*$/g;d=d.replace(e,"");top.location.href=d;return}this.doc.$("lbMain").style.display="none";this.fadeOut({id:"lbOverlay",opacity:this.doAnimations&&this.animateOverlay&&(!this.ie||this.ieVersion>=9)?this.maxOpacity:0,speed:5,display:"none"});this.toggleSelects("visible");if(this.hideObjects){this.toggleObjects("visible")}this.doc.$("lbOuterContainer").style.width="200px";this.doc.$("lbOuterContainer").style.height="200px";if(this.inline&&this.safari){var f=this.doc.$("lbIframe");var g=f.contentWindow||f.contentDocument;if(g.document){g=g.document}g.open();g.write("<html><head></head><body></body></html>");g.close()}if(!this.isEmpty(this.afterEnd)){var c=window[this.afterEnd];if(typeof c==="function"){c(this.args)}}};Lytebox.prototype.checkFrame=function(){this.isFrame=false;this.doc=document;this.doc.$=this.doc.getElementById};Lytebox.prototype.getPixelRate=function(a,b){var c=b>a?b-a:a-b;if(c>=0&&c<=100){return 100/this.resizeDuration}if(c>100&&c<=200){return 150/this.resizeDuration}if(c>200&&c<=300){return 200/this.resizeDuration}if(c>300&&c<=400){return 250/this.resizeDuration}if(c>400&&c<=500){return 300/this.resizeDuration}if(c>500&&c<=600){return 350/this.resizeDuration}if(c>600&&c<=700){return 400/this.resizeDuration}if(c>700){return 450/this.resizeDuration}};Lytebox.prototype.fadeIn=function(a){var b=this.isEmpty(a.id)?"":a.id;var c=this.isEmpty(a.speed)?5:parseInt(a.speed)>5?5:parseInt(a.speed);c=isNaN(c)?5:c;var d=this.isEmpty(a.opacity)?0:parseInt(a.opacity);d=isNaN(d)?0:d;var e=this.isEmpty(a.display)?"":a.display;var f=this.isEmpty(a.visibility)?"":a.visibility;var g=this.doc.$(b);var h=c;if(/lbImage|lbIframe|lbOverlay|lbBottomContainer|lbTopContainer/.test(b)){h=this.ff?this.ffVersion>=6?2:5:this.safari?3:this.ieVersion<=8?10:5;h=this.isMobile()?20:h;h=b=="lbOverlay"?h*2:h;h=b=="lbIframe"?100:h}else if(this.ieVersion==7||this.ieVersion==8){h=10}g.style.opacity=d/100;g.style.filter="alpha(opacity="+d+")";if(d>=100&&(b=="lbImage"||b=="lbIframe")){try{g.style.removeAttribute("filter")}catch(i){}this.fixBottomPadding()}else if(d>=this.maxOpacity&&b=="lbOverlay"){for(var j=0;j<this.overlayTimerCount;j++){window.clearTimeout(this.overlayTimerArray[j])}this.overlayLoaded=true;return}else if(d>=100&&(b=="lbBottomContainer"||b=="lbTopContainer")){try{g.style.removeAttribute("filter")}catch(i){}for(var j=0;j<this.imageTimerCount;j++){window.clearTimeout(this.imageTimerArray[j])}this.doc.$("lbOverlay").style.height=this.aPageSize[1]+"px"}else if(d>=100){for(var j=0;j<this.imageTimerCount;j++){window.clearTimeout(this.imageTimerArray[j])}}else{if(b=="lbOverlay"){this.overlayTimerArray[this.overlayTimerCount++]=setTimeout("$lb.fadeIn({ id: '"+b+"', opacity: "+(d+h)+", speed: "+c+" })",1)}else{this.imageTimerArray[this.imageTimerCount++]=setTimeout("$lb.fadeIn({ id: '"+b+"', opacity: "+(d+h)+", speed: "+c+" })",1)}}};Lytebox.prototype.fadeOut=function(a){var b=this.isEmpty(a.id)?"":a.id;var c=this.isEmpty(a.speed)?5:parseInt(a.speed)>5?5:parseInt(a.speed);c=isNaN(c)?5:c;var d=this.isEmpty(a.opacity)?100:parseInt(a.opacity);d=isNaN(d)?100:d;var e=this.isEmpty(a.display)?"":a.display;var f=this.isEmpty(a.visibility)?"":a.visibility;var g=this.doc.$(b);if(this.ieVersion==7||this.ieVersion==8){c*=2}g.style.opacity=d/100;g.style.filter="alpha(opacity="+d+")";if(d<=0){try{if(!this.isEmpty(e)){g.style.display=e}if(!this.isEmpty(f)){g.style.visibility=f}}catch(h){}if(b=="lbOverlay"){this.overlayLoaded=false}else{for(var i=0;i<this.timerIDCount;i++){window.clearTimeout(this.timerIDArray[i])}}}else if(b=="lbOverlay"){this.overlayTimerArray[this.overlayTimerCount++]=setTimeout("$lb.fadeOut({ id: '"+b+"', opacity: "+(d-c*2)+", speed: "+c+", display: '"+e+"', visibility: '"+f+"' })",1)}else{this.timerIDArray[this.timerIDCount++]=setTimeout("$lb.fadeOut({ id: '"+b+"', opacity: "+(d-c)+", speed: "+c+", display: '"+e+"', visibility: '"+f+"' })",1)}};Lytebox.prototype.resizeW=function(a,b,c,d,e){var f=this.doc.$(a);var g=this.doAnimations?b:c;f.style.width=g+"px";if(g<c){g+=g+d>=c?c-g:d}else if(g>c){g-=g-d<=c?g-c:d}this.resizeWTimerArray[this.resizeWTimerCount++]=setTimeout("$lb.resizeW('"+a+"', "+g+", "+c+", "+d+", "+e+")",e);if(parseInt(f.style.width)==c){this.wDone=true;for(var h=0;h<this.resizeWTimerCount;h++){window.clearTimeout(this.resizeWTimerArray[h])}this.showContent()}};Lytebox.prototype.resizeH=function(a,b,c,d,e){var f=this.doc.$(a);var g=this.doAnimations?b:c;f.style.height=g+"px";if(g<c){g+=g+d>=c?c-g:d}else if(g>c){g-=g-d<=c?g-c:d}this.resizeHTimerArray[this.resizeHTimerCount++]=setTimeout("$lb.resizeH('"+a+"', "+g+", "+c+", "+d+", "+(e+.02)+")",e+.02);if(parseInt(f.style.height)==c){this.hDone=true;for(var h=0;h<this.resizeHTimerCount;h++){window.clearTimeout(this.resizeHTimerArray[h])}this.resizeW("lbOuterContainer",this.wCur,this.resizeWidth+this.borderSize*2,this.getPixelRate(this.wCur,this.resizeWidth))}};Lytebox.prototype.getPageScroll=function(){if(self.pageYOffset){return this.isFrame?parent.pageYOffset:self.pageYOffset}else if(this.doc.documentElement&&this.doc.documentElement.scrollTop){return this.doc.documentElement.scrollTop}else if(document.body){return this.doc.body.scrollTop}};Lytebox.prototype.getPageSize=function(){var a,b,c,d;if(window.innerHeight&&window.scrollMaxY){a=this.doc.scrollWidth;b=(this.isFrame?parent.innerHeight:self.innerHeight)+(this.isFrame?parent.scrollMaxY:self.scrollMaxY)}else if(this.doc.body.scrollHeight>this.doc.body.offsetHeight){a=this.doc.body.scrollWidth;b=this.doc.body.scrollHeight}else{a=this.doc.getElementsByTagName("html").item(0).offsetWidth;b=this.doc.getElementsByTagName("html").item(0).offsetHeight;a=a<this.doc.body.offsetWidth?this.doc.body.offsetWidth:a;b=b<this.doc.body.offsetHeight?this.doc.body.offsetHeight:b}if(self.innerHeight){c=this.isFrame?parent.innerWidth:self.innerWidth;d=this.isFrame?parent.innerHeight:self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){c=this.doc.documentElement.clientWidth;d=this.doc.documentElement.clientHeight;c=c==0?this.doc.body.clientWidth:c;d=d==0?this.doc.body.clientHeight:d}else if(document.body){c=this.doc.getElementsByTagName("html").item(0).clientWidth;d=this.doc.getElementsByTagName("html").item(0).clientHeight;c=c==0?this.doc.body.clientWidth:c;d=d==0?this.doc.body.clientHeight:d}var e=b<d?d:b;var f=a<c?c:a;return new Array(f,e,c,d)};Lytebox.prototype.toggleObjects=function(a){var b=this.doc.getElementsByTagName("object");for(var c=0;c<b.length;c++){b[c].style.visibility=a=="hide"?"hidden":"visible"}var d=this.doc.getElementsByTagName("embed");for(var c=0;c<d.length;c++){d[c].style.visibility=a=="hide"?"hidden":"visible"}if(this.isFrame){for(var c=0;c<parent.frames.length;c++){try{b=parent.frames[c].window.document.getElementsByTagName("object");for(var e=0;e<b.length;e++){b[e].style.visibility=a=="hide"?"hidden":"visible"}}catch(f){}try{d=parent.frames[c].window.document.getElementsByTagName("embed");for(var e=0;e<d.length;e++){d[e].style.visibility=a=="hide"?"hidden":"visible"}}catch(f){}}}};Lytebox.prototype.toggleSelects=function(a){var b=this.doc.getElementsByTagName("select");for(var c=0;c<b.length;c++){b[c].style.visibility=a=="hide"?"hidden":"visible"}if(this.isFrame){for(var c=0;c<parent.frames.length;c++){try{b=parent.frames[c].window.document.getElementsByTagName("select");for(var d=0;d<b.length;d++){b[d].style.visibility=a=="hide"?"hidden":"visible"}}catch(e){}}}};Lytebox.prototype.combine=function(a,b){var c=[];for(var d=0;d<a.length;d++){c.push(a[d])}for(var d=0;d<b.length;d++){c.push(b[d])}return c};Lytebox.prototype.removeDuplicates=function(a){var b=new Array;a:for(var c=0,d=a.length;c<d;c++){for(var e=0,f=b.length;e<f;e++){if(b[e][0].toLowerCase()==a[c][0].toLowerCase()){continue a}}b[b.length]=a[c]}return b};Lytebox.prototype.printWindow=function(){var a=this.isLyteframe?800:this.imgPreloader.width+20;var b=this.isLyteframe?600:this.imgPreloader.height+20;var c=parseInt(screen.availWidth/2-a/2);var d=parseInt(screen.availHeight/2-b/2);var e="width="+a+",height="+b+",left="+c+",top="+d+"screenX="+c+",screenY="+d+"directories=0,location=0,menubar=0,resizable=0,scrollbars=0,status=0,titlebar=0,toolbar=0";var f=new Date;var g="Print"+f.getTime();var h=document.getElementById(this.printId).src;this.wContent=window.open(h,g,e);this.wContent.focus();var i=setTimeout("$lb.printContent()",1e3)};Lytebox.prototype.printContent=function(){try{if(this.wContent.document.readyState=="complete"){this.wContent.print();this.wContent.close();this.wContent=null}else{var a=setTimeout("$lb.printContent()",1e3)}}catch(b){}};Lytebox.prototype.setOptions=function(a){this.args="";this.group="";this.inline=false;this.hideObjects=this.__hideObjects;this.autoResize=this.__autoResize;this.doAnimations=this.__doAnimations;this.animateOverlay=this.__animateOverlay;this.forceCloseClick=this.__forceCloseClick;this.refreshPage=this.__refreshPage;this.showPrint=this.__showPrint;this.navType=this.__navType;this.titleTop=this.__titleTop;this.navTop=this.__navTop;this.beforeStart=this.__beforeStart;this.afterStart=this.__afterStart;this.beforeEnd=this.__beforeEnd;this.afterEnd=this.__afterEnd;this.scrolling=this.__scrolling;this.width=this.__width;this.height=this.__height;this.loopPlayback=this.__loopPlayback;this.slideInterval=this.__slideInterval;this.showNavigation=this.__showNavigation;this.showClose=this.__showClose;this.showDetails=this.__showDetails;var b=sValue="";var c=null;var d=a.split(" ");for(var e=0;e<d.length;e++){c=d[e].split(":");b=c.length>1?this.trim(c[0]).toLowerCase():"";sValue=c.length>1?this.trim(c[1]):"";switch(b){case"group":this.group=b=="group"?!this.isEmpty(sValue)?sValue.toLowerCase():"":"";break;case"hideobjects":this.hideObjects=/true|false/.test(sValue)?sValue=="true":this.__hideObjects;break;case"autoresize":this.autoResize=/true|false/.test(sValue)?sValue=="true":this.__autoResize;break;case"doanimations":this.doAnimations=/true|false/.test(sValue)?sValue=="true":this.__doAnimations;break;case"animateoverlay":this.animateOverlay=/true|false/.test(sValue)?sValue=="true":this.__animateOverlay;break;case"forcecloseclick":this.forceCloseClick=/true|false/.test(sValue)?sValue=="true":this.__forceCloseClick;break;case"refreshpage":this.refreshPage=/true|false/.test(sValue)?sValue=="true":this.__refreshPage;break;case"showprint":this.showPrint=/true|false/.test(sValue)?sValue=="true":this.__showPrint;break;case"navtype":this.navType=/[1-3]{1}/.test(sValue)?parseInt(sValue):this.__navType;break;case"titletop":this.titleTop=/true|false/.test(sValue)?sValue=="true":this.__titleTop;break;case"navtop":this.navTop=/true|false/.test(sValue)?sValue=="true":this.__navTop;break;case"beforestart":this.beforeStart=!this.isEmpty(sValue)?sValue:this.__beforeStart;break;case"afterstart":this.afterStart=!this.isEmpty(sValue)?sValue:this.__afterStart;break;case"beforeend":this.beforeEnd=!this.isEmpty(sValue)?sValue:this.__beforeEnd;break;case"afterend":this.afterEnd=!this.isEmpty(sValue)?sValue:this.__afterEnd;break;case"args":this.args=!this.isEmpty(sValue)?sValue:"";break;case"scrollbars":this.scrolling=/auto|yes|no/.test(sValue)?sValue:this.__scrolling;break;case"scrolling":this.scrolling=/auto|yes|no/.test(sValue)?sValue:this.__scrolling;break;case"width":this.width=/\d(%|px|)/.test(sValue)?sValue:this.__width;break;case"height":this.height=/\d(%|px|)/.test(sValue)?sValue:this.__height;break;case"loopplayback":this.loopPlayback=/true|false/.test(sValue)?sValue=="true":this.__loopPlayback;break;case"inline":this.inline=/true|false/.test(sValue)?sValue=="true":false;case"slideinterval":this.slideInterval=/\d/.test(sValue)?parseInt(sValue):this.__slideInterval;break;case"shownavigation":this.showNavigation=/true|false/.test(sValue)?sValue=="true":this.__showNavigation;break;case"showclose":this.showClose=/true|false/.test(sValue)?sValue=="true":this.__showClose;break;case"showdetails":this.showDetails=/true|false/.test(sValue)?sValue=="true":this.__showDetails;break}}};Lytebox.prototype.findPos=function(a){if(this.ie&&this.doc.compatMode=="BackCompat"){return[0,16,12]}var b=0;var c=0;var d=0;d=a.offsetHeight+6;if(a.offsetParent){do{b+=a.offsetLeft;c+=a.offsetTop}while(a=a.offsetParent)}return[b,c,d]};Lytebox.prototype.isMobile=function(){var a=navigator.userAgent;return a.match(/ipad/i)!=null||a.match(/ipod/i)!=null||a.match(/iphone/i)!=null||a.match(/android/i)!=null||a.match(/opera mini/i)!=null||a.match(/blackberry/i)!=null||a.match(/(pre\/|palm os|palm|hiptop|avantgo|plucker|xiino|blazer|elaine)/i)!=null||a.match(/(iris|3g_t|windows ce|opera mobi|windows ce; smartphone;|windows ce; iemobile)/i)!=null||a.match(/(mini 9.5|vx1000|lge |m800|e860|u940|ux840|compal|wireless| mobi|ahong|lg380|lgku|lgu900|lg210|lg47|lg920|lg840|lg370|sam-r|mg50|s55|g83|t66|vx400|mk99|d615|d763|el370|sl900|mp500|samu3|samu4|vx10|xda_|samu5|samu6|samu7|samu9|a615|b832|m881|s920|n210|s700|c-810|_h797|mob-x|sk16d|848b|mowser|s580|r800|471x|v120|rim8|c500foma:|160x|x160|480x|x640|t503|w839|i250|sprint|w398samr810|m5252|c7100|mt126|x225|s5330|s820|htil-g1|fly v71|s302|-x113|novarra|k610i|-three|8325rc|8352rc|sanyo|vx54|c888|nx250|n120|mtk |c5588|s710|t880|c5005|i;458x|p404i|s210|c5100|teleca|s940|c500|s590|foma|samsu|vx8|vx9|a1000|_mms|myx|a700|gu1100|bc831|e300|ems100|me701|me702m-three|sd588|s800|8325rc|ac831|mw200|brew |d88|htc\/|htc_touch|355x|m50|km100|d736|p-9521|telco|sl74|ktouch|m4u\/|me702|8325rc|kddi|phone|lg |sonyericsson|samsung|240x|x320|vx10|nokia|sony cmd|motorola|up.browser|up.link|mmp|symbian|smartphone|midp|wap|vodafone|o2|pocket|kindle|mobile|psp|treo)/i)!=null};Lytebox.prototype.validate=function(a){var b=sName="";var c=false;var d=this.isEmpty(a.id)?this.isEmpty(a.element)?null:a.element:document.getElementById(a.id);var e=this.isEmpty(a.value)?"":String(a.value);var f=this.isEmpty(a.type)?"":String(a.type).toLowerCase();var g=this.isEmpty(a.regex)?"":a.regex;var h=/visa|mc|amex|diners|discover|jcb/.test(a.ccType)?a.ccType:"";var i=this.isEmpty(a.imageType)?"":String(a.imageType.toLowerCase());var j=/^\d+$/.test(a.min)?parseInt(a.min):0;var k=/^\d+$/.test(a.max)?parseInt(a.max):0;var l=a.inclusive?true:/true|false/.test(a.inclusive)?a.inclusive=="true":true;var m=a.allowComma?true:/true|false/.test(a.allowComma)?a.allowComma=="true":true;var n=a.allowWhiteSpace?true:/true|false/.test(a.allowWhiteSpace)?a.allowWhiteSpace=="true":true;if(this.isEmpty(e)&&this.isEmpty(d)||this.isEmpty(f)&&this.isEmpty(g)){return false}var e=this.isEmpty(e)?d.value:e;if(!this.isEmpty(g)){c=g.test(e)}else{switch(f){case"alnum":c=n?/^[a-z0-9\s]+$/i.test(e):/^[a-z0-9]+$/i.test(e);break;case"alpha":c=n?/^[a-z\s]+$/i.test(e):/^[a-z]+$/i.test(e);break;case"between":var o=m?parseInt(e.replace(/\,/g,"")):parseInt(e);c=l?o>=j&&o<=k:o>j&&o<k;break;case"ccnum":if(this.isEmpty(h)){c=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/.test(e);break}else{switch(h){case"visa":c=/^4[0-9]{12}(?:[0-9]{3})?$/.test(e);break;case"mc":c=/^5[1-5][0-9]{14}$/.test(e);break;case"amex":c=/^3[47][0-9]{13}$/.test(e);break;case"diners":c=/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/.test(e);break;case"discover":c=/^6(?:011|5[0-9]{2})[0-9]{12}$/.test(e);break;case"jcb":c=/^(?:2131|1800|35\d{3})\d{11}$/.test(e);break;default:c=false}};case"date":var p=new Date(e);c=!(p.toString()=="NaN"||p.toString()=="Invalid Date");break;case"digits":c=/^\d+$/.test(e);break;case"email":c=/^([a-z0-9_\.\-])+\@(([a-z0-9\-])+\.)+([a-z0-9]{2,4})+$/i.test(e);break;case"float":c=/^[-+]?[0-9]*\.?[0-9]+$/.test(m?e.replace(/\,/g,""):e);break;case"image":if(this.isEmpty(i)){c=/^(png|jpg|jpeg|gif)$/i.test(e.split(".").pop());break}else{c=e.split(".").pop().toLowerCase().match(i)?true:false;break};case"int":case"integer":c=/^[-+]?\d+$/.test(e.replace(/\,/g,""));break;case"len":case"length":c=j==k?e.length==j:e.length>=j&&e.length<=k;break;case"phone":c=/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(e);break;case"notempty":c=!this.isEmpty(e);break;case"ssn":c=/^[0-9]{3}\-?[0-9]{2}\-?[0-9]{4}$/.test(e);break;case"url":c=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»""'']))/i.test(e);break;case"zip":c=/^\d{5}$|^\d{5}-\d{4}$/.test(e);break}}return c};Lytebox.prototype.serialize=function(a){var b=sValue="";var c=!/true|false/.test(a.stripTags)?false:a.stripTags=="true"||a.stripTags;var d=this.isEmpty(a.id)?this.isEmpty(a.element)?null:a.element:document.getElementById(a.id);if(d==null){for(var e=0;e<document.forms.length;e++){if(document.forms[e].name==a.name){d=document.forms[e].elements}}}for(var e=0;e<d.length;e++){if(d[e].type=="checkbox"&&!d[e].checked||d[e].type=="radio"&&!d[e].checked||d[e].disabled||d[e].name==""||d[e].type=="reset"){continue}if(d[e].type=="select-multiple"){for(var f=0;f<d[e].options.length;f++){if(d[e].options[f].selected==true){b+=(b==""?"":"&")+d[e].name+"="+encodeURIComponent(d[e].options[f].value)}}}else{sValue=c?this.stripTags({value:d[e].value}):d[e].value;b+=(b==""?"":"&")+d[e].name+"="+encodeURIComponent(sValue)}}return b};Lytebox.prototype.isEmpty=function(a){var b="";try{b=this.isEmpty(a.value)?a:a.value}catch(c){b=a}return this.trim(b)==""||b=="null"||b==null||typeof b=="undefined"};Lytebox.prototype.stripTags=function(a){var b=this.isEmpty(a.id)?this.isEmpty(a.element)?null:a.element:document.getElementById(a.id);if(!this.isEmpty(b)){b.value=String(b.value).replace(/(<([^>]+)>)/ig,"")}else{var c="";try{c=this.isEmpty(a.value)?a:a.value}catch(d){c=a}return this.trim(c)=="[object Object]"?"":String(c).replace(/(<([^>]+)>)/ig,"")}};Lytebox.prototype.trim=function(a){var b="";try{b=this.isEmpty(a.value)?a:a.value}catch(c){b=a}return String(b).replace(/^\s+|\s+$/g,"")};Lytebox.prototype.capitalize=function(a){return String(a.value?a.value:a).replace(/(^|\s)([a-z])/g,function(a,b,c){return b+c.toUpperCase()})};Lytebox.prototype.hasClass=function(a){var b=this.isEmpty(a.name)?"":a.name;var c=this.isEmpty(a.id)?this.isEmpty(a.element)?null:a.element:document.getElementById(a.id);return(new RegExp("(\\s|^)"+b+"(\\s|$)")).test(c.className)};Lytebox.prototype.addClass=function(a){var b=this.isEmpty(a.name)?"":a.name;var c=this.isEmpty(a.id)?this.isEmpty(a.element)?null:a.element:document.getElementById(a.id);var d=b.split(" ");for(var e=0;e<d.length;e++){if(!this.hasClass({element:c,name:d[e]})){c.className+=" "+d[e]}}};Lytebox.prototype.removeClass=function(a){var b=this.isEmpty(a.name)?"":a.name;var c=this.isEmpty(a.id)?this.isEmpty(a.element)?null:a.element:document.getElementById(a.id);var d=b.split(" ");for(var e=0;e<d.length;e++){if(this.hasClass({element:c,name:d[e]})){c.className=c.className.replace(new RegExp("(\\s|^)"+d[e]+"(\\s|$)")," ").replace(/\s+/g," ").replace(/^\s|\s$/,"")}}};if(window.addEventListener){window.addEventListener("load",initLytebox,false)}else if(window.attachEvent){window.attachEvent("onload",initLytebox)}else{window.onload=function(){initLytebox()}}myLytebox=$lb=new Lytebox(false)